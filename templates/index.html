<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Geocoding Finder</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>

  <div class="container">
    <header class="header">
      <h1>ğŸŒ Cari Lokasi di Google Maps</h1>
      <div class="team-info">
        <span>By <a href="#" target="_blank" class="team-link">HICT Team</a></span>
        <br>
        <small><a href="https://cicdtes-169926749078.asia-southeast2.run.app/" target="_blank" class="view-team">Lihat Tim Kami â†’</a></small>
      </div>
    </header>

    <form action="/geocode" method="POST" class="search-form">
      <input type="text" name="location" placeholder="Masukkan nama lokasi (cth: Sopodel Tower)" required>
      <button type="submit">Cari</button>
    </form>

    {% if lat and lng %}
    <div class="location-card fade-in">
      <h2>Lokasi Ditemukan ğŸ¯</h2>
      <p><strong>Lokasi:</strong> {{ location }}</p>
      <p><strong>Latitude:</strong> {{ lat }}</p>
      <p><strong>Longitude:</strong> {{ lng }}</p>
      <div class="map-container">
        <iframe
          width="100%"
          height="300"
          frameborder="0"
          style="border:0; border-radius: 12px; margin-top: 15px;"
          referrerpolicy="no-referrer-when-downgrade"
          src="https://www.google.com/maps/embed/v1/view?key=YOUR_API_KEY&center={{ lat }},{{ lng }}&zoom=16&maptype=roadmap"
          allowfullscreen>
        </iframe>
      </div>
      
      <p>
        <a class="maps-button" href="https://www.google.com/maps?q={{ lat }},{{ lng }}" target="_blank">
          ğŸ“ Lihat di Google Maps
        </a>
      </p>
      
    </div>
    {% elif error %}
    <div class="error-card fade-in">
      <p>{{ error }}</p>
    </div>
    {% endif %}
  </div>

  <footer>
    ğŸš€ Dibuat dengan semangat oleh Tim Cloud Multipolar ~ 2025 âœ¨
  </footer>

  <script>
    const form = document.querySelector('.search-form');
    const button = form.querySelector('button');

    form.addEventListener('submit', () => {
      button.disabled = true;
      button.innerHTML = `<span class="spinner"></span> Mencari...`;
    });
  </script>

</body>
</html>
